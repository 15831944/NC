(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     64631,       1826]
NotebookOptionsPosition[     58937,       1654]
NotebookOutlinePosition[     59730,       1678]
CellTagsIndexPosition[     59687,       1675]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[TextData[{
 "This is a demo file for \nNCConvexityRegion[p,{x,y}]. ",
 StyleBox[" ",
  FontColor->RGBColor[1, 0, 1]]
}], "Title",
 FontSize->36,
 FontColor->GrayLevel[0]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"<<", "NC`"}], "\[IndentingNewLine]", 
 RowBox[{"<<", " ", "NCAlgebra`"}], "\[IndentingNewLine]", 
 RowBox[{"<<", " ", "NCConvexity`"}]}], "Input",
 CellChangeTimes->{{3.5166269207530003`*^9, 3.516626927007236*^9}, {
  3.516626995092029*^9, 3.516626996571578*^9}, {3.684024763041646*^9, 
  3.684024765010337*^9}}],

Cell[CellGroupData[{

Cell[BoxData["\<\"You are using the version of NCAlgebra which is found in:\"\
\>"], "Print",
 CellChangeTimes->{
  3.516626928879483*^9, {3.516626976585766*^9, 3.51662699714361*^9}, 
   3.572400610539997*^9, 3.6840247876683483`*^9, {3.684025354781372*^9, 
   3.684025383032116*^9}, 3.68402577527229*^9, 3.684026019965735*^9, 
   3.6840260997527027`*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"  \"\>", "\[InvisibleSpace]", "\<\"/Users/mauricio/NC\"\>"}],
  SequenceForm["  ", "/Users/mauricio/NC"],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.516626928879483*^9, {3.516626976585766*^9, 3.51662699714361*^9}, 
   3.572400610539997*^9, 3.6840247876683483`*^9, {3.684025354781372*^9, 
   3.684025383032116*^9}, 3.68402577527229*^9, 3.684026019965735*^9, 
   3.6840260997633457`*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"You can now use \\\"<< NCAlgebra`\\\" to load NCAlgebra or \
\"\>", "\[InvisibleSpace]", "\<\"\\\"<< NCGB`\\\" to load NCGB.\"\>"}],
  SequenceForm[
  "You can now use \"<< NCAlgebra`\" to load NCAlgebra or ", 
   "\"<< NCGB`\" to load NCGB."],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.516626928879483*^9, {3.516626976585766*^9, 3.51662699714361*^9}, 
   3.572400610539997*^9, 3.6840247876683483`*^9, {3.684025354781372*^9, 
   3.684025383032116*^9}, 3.68402577527229*^9, 3.684026019965735*^9, 
   3.684026099772942*^9}]
}, Open  ]]
}, Open  ]],

Cell[TextData[{
 StyleBox["(1)",
  FontColor->RGBColor[1, 0, 0]],
 " Let's start with a simple example first.  Lets test the convexity of p = \
x^2."
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{"x", "**", "x"}], ",", " ", 
   RowBox[{"{", "x", "}"}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$710751\\\\\\\"\\\
\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", "MSG",
 CellChangeTimes->{
  3.684024797042529*^9, {3.6840253565004053`*^9, 3.684025384480678*^9}, 
   3.684025776622464*^9, 3.684026021223007*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", "2", "}"}], "}"}]], "Output",
 CellChangeTimes->{
  3.516626930874363*^9, 3.516626979245829*^9, 3.5724006110952597`*^9, 
   3.6840247971159887`*^9, {3.6840253565150223`*^9, 3.684025384490719*^9}, 
   3.684025776632704*^9, 3.684026021233066*^9}]
}, Open  ]],

Cell["\<\
Conclusions: We see that x^2 is matrix convex for all symmetric x, since the \
output diagonal elements {2} are positive.\
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(2)",
  FontColor->RGBColor[1, 0, 0]],
 " Now we will test the convexity of p = x^3."
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{"x", "**", "x", "**", "x"}], ",", " ", 
   RowBox[{"{", "x", "}"}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$729811, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.684025400278158*^9, 3.684025778184143*^9, 
  3.6840260227402887`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"2", " ", "x"}], ",", 
    RowBox[{
     RowBox[{"-", "2"}], " ", 
     RowBox[{"inv", "[", "x", "]"}]}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.5166269325840273`*^9, 3.5166269794724827`*^9, 
  3.572400611146427*^9, 3.6840254003271427`*^9, 3.684025778194172*^9, 
  3.684026022750173*^9}]
}, Open  ]],

Cell["\<\
Conclusions: We see that x^3 is not matrix convex for any symmetric x, since \
the output diagonal elements {2x, -2 inv[x]} cannot both be positive.\
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(3)",
  FontColor->RGBColor[1, 0, 0]],
 " What about p = x^2+y^2 ?"
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"x", "**", "x"}], "+", 
    RowBox[{"y", "**", "y"}]}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"x", ",", "y"}], "}"}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$748901, \
NCConvexity`Private`h$748902\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed \
symmetric\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.684025456803241*^9, 3.684025779944982*^9, 
  3.684026024779256*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{"2", ",", "2"}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.5166269795884857`*^9, 3.572400611196829*^9, 
  3.684025456810898*^9, 3.684025779954974*^9, 3.684026024789657*^9}]
}, Open  ]],

Cell["\<\
Conclusions: We see that x^2+y^2 is matrix convex for any symmetric x and y, \
since the output diagonal elements {2,2} are positive.\
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(4)",
  FontColor->RGBColor[1, 0, 0]],
 " What about p = x^4 ?"
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{"x", "**", "x", "**", "x", "**", "x"}], ",", " ", 
   RowBox[{"{", "x", "}"}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$768011, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.6840254725944443`*^9, 3.6840257820626583`*^9, 
  3.6840260264397173`*^9}],

Cell[BoxData["\<\"L**D**tp[L] gave non-trivial blocks, so the output list is: \
{ {diagonal},{subdiagonal},{-subdiagonal} }\"\>"], "Print",
 CellChangeTimes->{3.516626980440782*^9, 3.572400611246738*^9, 
  3.684025472605394*^9, 3.684025782072933*^9, 3.6840260264516487`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"2", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "2"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"-", "2"}]}], "}"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.516626980447814*^9, 3.572400611248341*^9, 
  3.684025472612762*^9, 3.6840257820803003`*^9, 3.6840260264590597`*^9}]
}, Open  ]],

Cell["\<\
Conclusions: We see that x^4 is not matrix convex for any symmetric x, since \
the eigenvalues of the D matrix include 2 and -2.  Note the different message \
and output here.  This is because D was not diagonal, but block diagonal. So, \
NCConvexityRegion gave back the diagonal, subdiagonal, and -subdiagonal. \
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(5)",
  FontColor->RGBColor[1, 0, 0]],
 " What about p = x^4+y^4 ?"
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"x", "**", "x", "**", "x", "**", "x"}], "+", 
    RowBox[{"y", "**", "y", "**", "y", "**", "y"}]}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"x", ",", "y"}], "}"}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$787141, \
NCConvexity`Private`h$787142, x, y\\\\\\\"\\\"}]\\)\[NoBreak] was(were) \
assumed symmetric\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.684025536583488*^9, 3.6840257850272827`*^9, 
  3.6840260293768272`*^9}],

Cell[BoxData["\<\"L**D**tp[L] gave non-trivial blocks, so the output list is: \
{ {diagonal},{subdiagonal},{-subdiagonal} }\"\>"], "Print",
 CellChangeTimes->{3.5166269814414988`*^9, 3.572400611356009*^9, 
  3.684025536616218*^9, 3.684025785068048*^9, 3.684026029413184*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"2", ",", "2", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], 
    ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "2", ",", "0", ",", "2"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", 
      RowBox[{"-", "2"}], ",", "0", ",", 
      RowBox[{"-", "2"}]}], "}"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.516626981449554*^9, 3.572400611357563*^9, 
  3.684025536623757*^9, 3.6840257850762777`*^9, 3.684026029422127*^9}]
}, Open  ]],

Cell["\<\
Conclusions: We see that x^4+y^4 is not matrix convex for any symmetric x and \
y, since the eigenvalues of the D matrix include 2 and -2.  Note again the \
different message and output here.  This is because D was not diagonal, but \
block diagonal.  So, NCConvexityRegion gave back the diagonal, subdiagonal, \
and -subdiagonal. \
\>", "Text",
 FontSize->24],

Cell[TextData[StyleBox["What is NCConvexityRegion doing?",
 FontColor->RGBColor[0, 0, 1]]], "Text",
 FontSize->36],

Cell["\<\
Let's step through a couple of the above examples and do what \
NCConvexityRegion does to get a feeling for what is happening.\
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(6)",
  FontColor->RGBColor[1, 0, 0]],
 " Let's go through p = x^3."
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"hes", " ", "=", " ", 
  RowBox[{"NCHessian", "[", " ", 
   RowBox[{
    RowBox[{"x", "**", "x", "**", "x"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"x", ",", "h"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"{", 
   RowBox[{"lt", ",", "mq", ",", "rt"}], "}"}], "=", " ", 
  RowBox[{"NCMatrixOfQuadratic", "[", 
   RowBox[{"hes", ",", 
    RowBox[{"{", "h", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "mq", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"ldl", ",", "p", ",", "s", ",", "rank"}], "}"}], "=", 
   RowBox[{"NCLDLDecomposition", "[", "mq", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"lf", ",", "d", ",", "rt"}], "}"}], "=", 
   RowBox[{"GetLDUMatrices", "[", 
    RowBox[{"ldl", ",", "s"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "d", "]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.68402555422227*^9, 3.68402559685565*^9}},
 FontSize->14],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", 
   RowBox[{"h", "**", "h", "**", "x"}]}], "+", 
  RowBox[{"2", " ", 
   RowBox[{"h", "**", "x", "**", "h"}]}], "+", 
  RowBox[{"2", " ", 
   RowBox[{"x", "**", "h", "**", "h"}]}]}]], "Output",
 CellChangeTimes->{3.516626981524157*^9, 3.572400611396208*^9, 
  3.684025601798276*^9, 3.684025788347808*^9, 3.6840260326543417`*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"h, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.684025601953388*^9, 3.6840257885299883`*^9, 
  3.684026032850609*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"x", "**", "h"}], ",", "h"}], "}"}], ",", 
   TagBox[
    TemplateBox[{RowBox[{
        StyleBox[
         TagBox["SparseArray", "SummaryHead"], "NonInterpretableSummary"], 
        StyleBox["[", "NonInterpretableSummary"], 
        DynamicModuleBox[{Typeset`open$$ = False}, 
         PanelBox[
          PaneSelectorBox[{False -> GridBox[{{
                PaneBox[
                 ButtonBox[
                  DynamicBox[
                   FEPrivate`FrontEndResource[
                   "FEBitmaps", "SquarePlusIconMedium"]], 
                  ButtonFunction :> (Typeset`open$$ = True), Appearance -> 
                  None, Evaluator -> Automatic, Method -> "Preemptive"], 
                 Alignment -> {Center, Center}, ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                GraphicsBox[
                 
                 RasterBox[{{{0.772061, 0.92462, 0.998703}, {0.5, 0., 0.}}, {{
                  0.235431, 0.32765, 0.833291}, {0.772061, 0.92462, 
                  0.998703}}}, {{0, 0}, {2, 2}}, {0, 1}], AspectRatio -> 1, 
                 Axes -> False, Frame -> False, FrameLabel -> {None, None}, 
                 FrameStyle -> Directive[
                   Opacity[0.5], 
                   Thickness[Tiny], 
                   RGBColor[0.368417, 0.506779, 0.709798]], 
                 FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
                 Directive[
                   GrayLevel[0.5, 0.4]], ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}], 
                 Method -> {
                  "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
                   Automatic, "DefaultPlotStyle" -> Automatic, 
                   "DomainPadding" -> Scaled[0.02], "RangePadding" -> 
                   Scaled[0.05]}], 
                GridBox[{{
                   RowBox[{
                    TagBox[
                    "\"Specified elements: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["3", "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox[
                    RowBox[{"{", 
                    RowBox[{"2", ",", "2"}], "}"}], "SummaryItem"]}]}}, 
                 GridBoxAlignment -> {
                  "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
                 False, GridBoxItemSize -> {
                  "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
                 GridBoxSpacings -> {
                  "Columns" -> {{2}}, "Rows" -> {{Automatic}}}, 
                 BaseStyle -> {
                  ShowStringCharacters -> False, NumberMarks -> False, 
                   PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
              GridBoxAlignment -> {"Rows" -> {{Top}}}, AutoDelete -> False, 
              GridBoxItemSize -> {
               "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
              BaselinePosition -> {1, 1}], True -> GridBox[{{
                PaneBox[
                 ButtonBox[
                  DynamicBox[
                   FEPrivate`FrontEndResource[
                   "FEBitmaps", "SquareMinusIconMedium"]], 
                  ButtonFunction :> (Typeset`open$$ = False), Appearance -> 
                  None, Evaluator -> Automatic, Method -> "Preemptive"], 
                 Alignment -> {Center, Center}, ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                GraphicsBox[
                 
                 RasterBox[{{{0.772061, 0.92462, 0.998703}, {0.5, 0., 0.}}, {{
                  0.235431, 0.32765, 0.833291}, {0.772061, 0.92462, 
                  0.998703}}}, {{0, 0}, {2, 2}}, {0, 1}], AspectRatio -> 1, 
                 Axes -> False, Frame -> False, FrameLabel -> {None, None}, 
                 FrameStyle -> Directive[
                   Opacity[0.5], 
                   Thickness[Tiny], 
                   RGBColor[0.368417, 0.506779, 0.709798]], 
                 FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
                 Directive[
                   GrayLevel[0.5, 0.4]], ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}], 
                 Method -> {
                  "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
                   Automatic, "DefaultPlotStyle" -> Automatic, 
                   "DomainPadding" -> Scaled[0.02], "RangePadding" -> 
                   Scaled[0.05]}], 
                GridBox[{{
                   RowBox[{
                    TagBox[
                    "\"Specified elements: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["3", "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox[
                    RowBox[{"{", 
                    RowBox[{"2", ",", "2"}], "}"}], "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Default: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["0", "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Density: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["0.75`", "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Elements:\"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["\"\"", "SummaryItem"]}]}, {
                   TagBox[
                    TagBox[
                    GridBox[{{
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "2"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    "2", ContentPadding -> False, FrameMargins -> 0, 
                    StripOnInput -> True, BaselinePosition -> Baseline, 
                    ImageSize -> {{1, 300}, Automatic}], LineBreakWithin -> 
                    False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2", ",", "1"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    "2", ContentPadding -> False, FrameMargins -> 0, 
                    StripOnInput -> True, BaselinePosition -> Baseline, 
                    ImageSize -> {{1, 300}, Automatic}], LineBreakWithin -> 
                    False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2", ",", "2"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    RowBox[{"2", " ", "x"}], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}}, 
                    GridBoxAlignment -> {"Columns" -> {{Left}}}, 
                    DefaultBaseStyle -> "Column", 
                    GridBoxItemSize -> {
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
                    "Column"], "SummaryItem"]}}, 
                 GridBoxAlignment -> {
                  "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
                 False, GridBoxItemSize -> {
                  "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
                 GridBoxSpacings -> {
                  "Columns" -> {{2}}, "Rows" -> {{Automatic}}}, 
                 BaseStyle -> {
                  ShowStringCharacters -> False, NumberMarks -> False, 
                   PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
              GridBoxAlignment -> {"Rows" -> {{Top}}}, AutoDelete -> False, 
              GridBoxItemSize -> {
               "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
              BaselinePosition -> {1, 1}]}, 
           Dynamic[Typeset`open$$], ImageSize -> Automatic], BaselinePosition -> 
          Baseline], DynamicModuleValues :> {}], 
        StyleBox["]", "NonInterpretableSummary"]}]},
     "CopyTag",
     DisplayFunction->(#& ),
     InterpretationFunction->("SparseArray[<3>, {2, 2}]"& )],
    False,
    Editable->False,
    SelectWithContents->True,
    Selectable->False], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"h", "**", "x"}], ",", "h"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.516626981524157*^9, 3.572400611396208*^9, 
  3.684025601798276*^9, 3.684025788347808*^9, 3.6840260328822803`*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "2"},
     {"2", 
      RowBox[{"2", " ", "x"}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {2, 2}, 0, {
     1, {{0, 1, 3}, {{2}, {1}, {2}}}, {2, 2, 2 $CellContext`x}}]]]]], "Output",\

 CellChangeTimes->{3.516626981524157*^9, 3.572400611396208*^9, 
  3.684025601798276*^9, 3.684025788347808*^9, 3.6840260328923597`*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSelfAdjointQ", "::", "SelfAdjointVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"x\\\
\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed adjoint\"\>"}]], "Message", "MSG",
 
 CellChangeTimes->{3.684025601953388*^9, 3.6840257885299883`*^9, 
  3.684026033061401*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"2", " ", "x"}], "0"},
     {"0", 
      RowBox[{
       RowBox[{"-", "2"}], " ", 
       RowBox[{"inv", "[", "x", "]"}]}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {2, 2}, 0, {
     1, {{0, 1, 2}, {{1}, {2}}}, {
      2 $CellContext`x, (-2) 
       NonCommutativeMultiply`inv[$CellContext`x]}}]]]]], "Output",
 CellChangeTimes->{3.516626981524157*^9, 3.572400611396208*^9, 
  3.684025601798276*^9, 3.684025788347808*^9, 3.684026033069645*^9}]
}, Open  ]],

Cell["\<\
Conclusions: NCConvexityRegion returns the diagonal of d.  Look at example \
(2).\
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(7)",
  FontColor->RGBColor[1, 0, 0]],
 " Let's go through p = x^4."
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"hes", " ", "=", " ", 
  RowBox[{"NCHessian", "[", " ", 
   RowBox[{
    RowBox[{"x", "**", "x", "**", "x", "**", "x"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"x", ",", "h"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"{", 
   RowBox[{"lt", ",", "mq", ",", "rt"}], "}"}], "=", " ", 
  RowBox[{"NCMatrixOfQuadratic", "[", 
   RowBox[{"hes", ",", 
    RowBox[{"{", "h", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "mq", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"ldl", ",", "p", ",", "s", ",", "rank"}], "}"}], "=", 
   RowBox[{"NCLDLDecomposition", "[", "mq", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"lf", ",", "d", ",", "rt"}], "}"}], "=", 
   RowBox[{"GetLDUMatrices", "[", 
    RowBox[{"ldl", ",", "s"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "d", "]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.684025637502473*^9, 3.684025638581376*^9}},
 FontSize->14],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", 
   RowBox[{"h", "**", "h", "**", "x", "**", "x"}]}], "+", 
  RowBox[{"2", " ", 
   RowBox[{"h", "**", "x", "**", "h", "**", "x"}]}], "+", 
  RowBox[{"2", " ", 
   RowBox[{"h", "**", "x", "**", "x", "**", "h"}]}], "+", 
  RowBox[{"2", " ", 
   RowBox[{"x", "**", "h", "**", "h", "**", "x"}]}], "+", 
  RowBox[{"2", " ", 
   RowBox[{"x", "**", "h", "**", "x", "**", "h"}]}], "+", 
  RowBox[{"2", " ", 
   RowBox[{"x", "**", "x", "**", "h", "**", "h"}]}]}]], "Output",
 CellChangeTimes->{3.516626981798771*^9, 3.572400611448463*^9, 
  3.684025639808674*^9, 3.684025791320828*^9, 3.684026034597912*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"h, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.6840256399856043`*^9, 3.684025791507361*^9, 
  3.684026034782724*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"x", "**", "x", "**", "h"}], ",", 
     RowBox[{"x", "**", "h"}], ",", "h"}], "}"}], ",", 
   TagBox[
    TemplateBox[{RowBox[{
        StyleBox[
         TagBox["SparseArray", "SummaryHead"], "NonInterpretableSummary"], 
        StyleBox["[", "NonInterpretableSummary"], 
        DynamicModuleBox[{Typeset`open$$ = False}, 
         PanelBox[
          PaneSelectorBox[{False -> GridBox[{{
                PaneBox[
                 ButtonBox[
                  DynamicBox[
                   FEPrivate`FrontEndResource[
                   "FEBitmaps", "SquarePlusIconMedium"]], 
                  ButtonFunction :> (Typeset`open$$ = True), Appearance -> 
                  None, Evaluator -> Automatic, Method -> "Preemptive"], 
                 Alignment -> {Center, Center}, ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                GraphicsBox[
                 
                 RasterBox[{{{0.772061, 0.92462, 0.998703}, {0.5, 0., 0.}, {
                  0.5, 0., 0.}}, {{0.235431, 0.32765, 0.833291}, {0.772061, 
                  0.92462, 0.998703}, {0.5, 0., 0.}}, {{0.235431, 0.32765, 
                  0.833291}, {0.235431, 0.32765, 0.833291}, {0.772061, 
                  0.92462, 0.998703}}}, {{0, 0}, {3, 3}}, {0, 1}], 
                 AspectRatio -> 1, Axes -> False, Frame -> False, 
                 FrameLabel -> {None, None}, FrameStyle -> Directive[
                   Opacity[0.5], 
                   Thickness[Tiny], 
                   RGBColor[0.368417, 0.506779, 0.709798]], 
                 FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
                 Directive[
                   GrayLevel[0.5, 0.4]], ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}], 
                 Method -> {
                  "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
                   Automatic, "DefaultPlotStyle" -> Automatic, 
                   "DomainPadding" -> Scaled[0.02], "RangePadding" -> 
                   Scaled[0.05]}], 
                GridBox[{{
                   RowBox[{
                    TagBox[
                    "\"Specified elements: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["6", "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox[
                    RowBox[{"{", 
                    RowBox[{"3", ",", "3"}], "}"}], "SummaryItem"]}]}}, 
                 GridBoxAlignment -> {
                  "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
                 False, GridBoxItemSize -> {
                  "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
                 GridBoxSpacings -> {
                  "Columns" -> {{2}}, "Rows" -> {{Automatic}}}, 
                 BaseStyle -> {
                  ShowStringCharacters -> False, NumberMarks -> False, 
                   PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
              GridBoxAlignment -> {"Rows" -> {{Top}}}, AutoDelete -> False, 
              GridBoxItemSize -> {
               "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
              BaselinePosition -> {1, 1}], True -> GridBox[{{
                PaneBox[
                 ButtonBox[
                  DynamicBox[
                   FEPrivate`FrontEndResource[
                   "FEBitmaps", "SquareMinusIconMedium"]], 
                  ButtonFunction :> (Typeset`open$$ = False), Appearance -> 
                  None, Evaluator -> Automatic, Method -> "Preemptive"], 
                 Alignment -> {Center, Center}, ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                GraphicsBox[
                 
                 RasterBox[{{{0.772061, 0.92462, 0.998703}, {0.5, 0., 0.}, {
                  0.5, 0., 0.}}, {{0.235431, 0.32765, 0.833291}, {0.772061, 
                  0.92462, 0.998703}, {0.5, 0., 0.}}, {{0.235431, 0.32765, 
                  0.833291}, {0.235431, 0.32765, 0.833291}, {0.772061, 
                  0.92462, 0.998703}}}, {{0, 0}, {3, 3}}, {0, 1}], 
                 AspectRatio -> 1, Axes -> False, Frame -> False, 
                 FrameLabel -> {None, None}, FrameStyle -> Directive[
                   Opacity[0.5], 
                   Thickness[Tiny], 
                   RGBColor[0.368417, 0.506779, 0.709798]], 
                 FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
                 Directive[
                   GrayLevel[0.5, 0.4]], ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}], 
                 Method -> {
                  "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
                   Automatic, "DefaultPlotStyle" -> Automatic, 
                   "DomainPadding" -> Scaled[0.02], "RangePadding" -> 
                   Scaled[0.05]}], 
                GridBox[{{
                   RowBox[{
                    TagBox[
                    "\"Specified elements: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["6", "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox[
                    RowBox[{"{", 
                    RowBox[{"3", ",", "3"}], "}"}], "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Default: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["0", "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Density: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["0.6666666666666666`", "SummaryItem"]}]}, {
                   RowBox[{
                    TagBox["\"Elements:\"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["\"\"", "SummaryItem"]}]}, {
                   TagBox[
                    TagBox[
                    GridBox[{{
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"1", ",", "3"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    "2", ContentPadding -> False, FrameMargins -> 0, 
                    StripOnInput -> True, BaselinePosition -> Baseline, 
                    ImageSize -> {{1, 300}, Automatic}], LineBreakWithin -> 
                    False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2", ",", "2"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    "2", ContentPadding -> False, FrameMargins -> 0, 
                    StripOnInput -> True, BaselinePosition -> Baseline, 
                    ImageSize -> {{1, 300}, Automatic}], LineBreakWithin -> 
                    False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2", ",", "3"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    RowBox[{"2", " ", "x"}], ContentPadding -> False, 
                    FrameMargins -> 0, StripOnInput -> True, BaselinePosition -> 
                    Baseline, ImageSize -> {{1, 300}, Automatic}], 
                    LineBreakWithin -> False]}]}, {
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"3", ",", "1"}], "}"}], "\[Rule]", 
                    StyleBox[
                    PaneBox[
                    "2", ContentPadding -> False, FrameMargins -> 0, 
                    StripOnInput -> True, BaselinePosition -> Baseline, 
                    ImageSize -> {{1, 300}, Automatic}], LineBreakWithin -> 
                    False]}]}, {
                    ItemBox[
                    "\"\[VerticalEllipsis]\"", Alignment -> Center, 
                    StripOnInput -> False]}}, 
                    GridBoxAlignment -> {"Columns" -> {{Left}}}, 
                    DefaultBaseStyle -> "Column", 
                    GridBoxItemSize -> {
                    "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}], 
                    "Column"], "SummaryItem"]}}, 
                 GridBoxAlignment -> {
                  "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
                 False, GridBoxItemSize -> {
                  "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
                 GridBoxSpacings -> {
                  "Columns" -> {{2}}, "Rows" -> {{Automatic}}}, 
                 BaseStyle -> {
                  ShowStringCharacters -> False, NumberMarks -> False, 
                   PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
              GridBoxAlignment -> {"Rows" -> {{Top}}}, AutoDelete -> False, 
              GridBoxItemSize -> {
               "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
              BaselinePosition -> {1, 1}]}, 
           Dynamic[Typeset`open$$], ImageSize -> Automatic], BaselinePosition -> 
          Baseline], DynamicModuleValues :> {}], 
        StyleBox["]", "NonInterpretableSummary"]}]},
     "CopyTag",
     DisplayFunction->(#& ),
     InterpretationFunction->("SparseArray[<6>, {3, 3}]"& )],
    False,
    Editable->False,
    SelectWithContents->True,
    Selectable->False], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"h", "**", "x", "**", "x"}], ",", 
     RowBox[{"h", "**", "x"}], ",", "h"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.516626981798771*^9, 3.572400611448463*^9, 
  3.684025639808674*^9, 3.684025791320828*^9, 3.6840260349301157`*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "2"},
     {"0", "2", 
      RowBox[{"2", " ", "x"}]},
     {"2", 
      RowBox[{"2", " ", "x"}], 
      RowBox[{"2", " ", 
       RowBox[{"x", "**", "x"}]}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {3, 3}, 0, {
     1, {{0, 1, 3, 6}, {{3}, {2}, {3}, {1}, {2}, {3}}}, {
      2, 2, 2 $CellContext`x, 2, 2 $CellContext`x, 2 
       NonCommutativeMultiply[$CellContext`x, $CellContext`x]}}]]]]], "Output",\

 CellChangeTimes->{3.516626981798771*^9, 3.572400611448463*^9, 
  3.684025639808674*^9, 3.684025791320828*^9, 3.6840260349388657`*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSelfAdjointQ", "::", "SelfAdjointVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"x\\\
\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed adjoint\"\>"}]], "Message", "MSG",
 
 CellChangeTimes->{3.6840256399856043`*^9, 3.684025791507361*^9, 
  3.684026035071823*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"2", "0", "0"},
     {"0", "0", "2"},
     {"0", "2", "0"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {3, 3}, 0, {
     1, {{0, 1, 2, 3}, {{1}, {3}, {2}}}, {2, 2, 2}}]]]]], "Output",
 CellChangeTimes->{3.516626981798771*^9, 3.572400611448463*^9, 
  3.684025639808674*^9, 3.684025791320828*^9, 3.684026035082995*^9}]
}, Open  ]],

Cell["\<\
Conclusions: NCConvexityRegion returns the diagonal,offdiagonal, and \
-offdiagonal of d.  Note that this answer is consistent with example (4) \
above.\
\>", "Text",
 FontSize->24],

Cell[TextData[StyleBox["What kind of options can we use?",
 FontColor->RGBColor[0, 0, 1]]], "Text",
 FontSize->36],

Cell["\<\
We can run NCConvexityRegion with AllPermutation -> True.  The default is \
false.  This will make NCConvexityRegion run NCAllPermutationLDU instead of \
NCLDUDecomposition.   When you do this you also want to set DiagonalSelection \
to the permutations you want to use.  The possible settings for \
DiagonalSelection are {n} or {k,n}.  {n} makes NCAllPermutationLDU use \
permutations 1 through n, while {k,n} makes NCAllPermutationLDU use \
permutations k through n.   Note that setting AllPermutation to True and \
selecting different permutations will give different answers.  But, they will \
all be consistent with regards to the matrix convexity of p.  When \
AllPermutation is set to true NCConvexityRegion only returns the shortest \
answer.  So although there are multiple answers depending on what \
permutations are selected, NCConvexityRegion looks through them and selects \
the shortest one to return.\
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(8)",
  FontColor->RGBColor[1, 0, 0]],
 " Lets run x^3.  "
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"hes", " ", "=", " ", 
   RowBox[{"NCHessian", "[", " ", 
    RowBox[{
     RowBox[{"x", "**", "x", "**", "x"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", "h"}], "}"}]}], " ", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"lt", ",", "mq", ",", "rt"}], "}"}], "=", " ", 
   RowBox[{"NCMatrixOfQuadratic", "[", " ", 
    RowBox[{"hes", ",", 
     RowBox[{"{", "h", "}"}]}], " ", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "mq", "]"}]}], "Input",
 CellChangeTimes->{3.684025708141283*^9},
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"h, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.684025721290753*^9, 3.684025799093669*^9, 
  3.684026039108038*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "2"},
     {"2", 
      RowBox[{"2", " ", "x"}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {2, 2}, 0, {
     1, {{0, 1, 3}, {{2}, {1}, {2}}}, {2, 2, 2 $CellContext`x}}]]]]], "Output",\

 CellChangeTimes->{3.516626981964835*^9, 3.572400611497478*^9, 
  3.6840257212990627`*^9, 3.684025799101709*^9, 3.6840260391171207`*^9}]
}, Open  ]],

Cell["\<\
We have a 2x2 matrix.  So the number of permutations is only 2.\
\>", "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{"x", "**", "x", "**", "x"}], ",", " ", 
   RowBox[{"{", "x", "}"}], ",", 
   RowBox[{"AllPermutation", "\[Rule]", "True"}], ",", 
   RowBox[{"DiagonalSelection", "\[Rule]", 
    RowBox[{"{", "1", "}"}]}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCDeprecated", "::", "OptionGone"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"Option \
\\\"\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"AllPermutation\\\\\\\"\\\"}]\\)\
\[NoBreak]\\\" has been deprecated and is no longer supported.\"\>"}]], \
"Message", "MSG",
 CellChangeTimes->{3.684025737876587*^9, 3.684025801933894*^9, 
  3.684026040764632*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$902861, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.684025737876587*^9, 3.684025801933894*^9, 
  3.684026040943646*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"2", " ", "x"}], ",", 
    RowBox[{
     RowBox[{"-", "2"}], " ", 
     RowBox[{"inv", "[", "x", "]"}]}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.516626982095601*^9, 3.572400611555241*^9, 
  3.684025738065024*^9, 3.684025802120943*^9, 3.684026040952526*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{"x", "**", "x", "**", "x"}], ",", " ", 
   RowBox[{"{", "x", "}"}], ",", 
   RowBox[{"AllPermutation", "\[Rule]", "True"}], ",", 
   RowBox[{"DiagonalSelection", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"2", ",", "2"}], "}"}]}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCDeprecated", "::", "OptionGone"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"Option \
\\\"\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"AllPermutation\\\\\\\"\\\"}]\\)\
\[NoBreak]\\\" has been deprecated and is no longer supported.\"\>"}]], \
"Message", "MSG",
 CellChangeTimes->{3.6840258156022778`*^9, 3.6840260429423227`*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$940811, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.6840258156022778`*^9, 3.684026043112907*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"2", " ", "x"}], ",", 
    RowBox[{
     RowBox[{"-", "2"}], " ", 
     RowBox[{"inv", "[", "x", "]"}]}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.516626982232624*^9, 3.572400611607533*^9, 
  3.684025815787154*^9, 3.6840260431209717`*^9}]
}, Open  ]],

Cell["\<\
Conclusions: In this case we get the same answer even though we used \
different permutations. \
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(9)",
  FontColor->RGBColor[1, 0, 0]],
 " Lets run x^4.  "
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"hes", " ", "=", " ", 
   RowBox[{"NCHessian", "[", " ", 
    RowBox[{
     RowBox[{"x", "**", "x", "**", "x", "**", "x"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", "h"}], "}"}]}], " ", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"lt", ",", "mq", ",", "rt"}], "}"}], "=", " ", 
   RowBox[{"NCMatrixOfQuadratic", "[", " ", 
    RowBox[{"hes", ",", 
     RowBox[{"{", "h", "}"}]}], " ", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "mq", "]"}]}], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"h, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.684025827473044*^9, 3.684026045091165*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0", "2"},
     {"0", "2", 
      RowBox[{"2", " ", "x"}]},
     {"2", 
      RowBox[{"2", " ", "x"}], 
      RowBox[{"2", " ", 
       RowBox[{"x", "**", "x"}]}]}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[
   SparseArray[
    Automatic, {3, 3}, 0, {
     1, {{0, 1, 3, 6}, {{3}, {2}, {3}, {1}, {2}, {3}}}, {
      2, 2, 2 $CellContext`x, 2, 2 $CellContext`x, 2 
       NonCommutativeMultiply[$CellContext`x, $CellContext`x]}}]]]]], "Output",\

 CellChangeTimes->{3.516626982348835*^9, 3.5724006116481028`*^9, 
  3.684025827481328*^9, 3.684026045100157*^9}]
}, Open  ]],

Cell["\<\
We have a 3x3 matrix.  So the number of permutations is only 12.\
\>", "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{"x", "**", "x", "**", "x", "**", "x"}], ",", " ", 
   RowBox[{"{", "x", "}"}], ",", 
   RowBox[{"AllPermutation", "\[Rule]", "True"}], ",", 
   RowBox[{"DiagonalSelection", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"1", ",", "2"}], "}"}]}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCDeprecated", "::", "OptionGone"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"Option \
\\\"\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"AllPermutation\\\\\\\"\\\"}]\\)\
\[NoBreak]\\\" has been deprecated and is no longer supported.\"\>"}]], \
"Message", "MSG",
 CellChangeTimes->{3.6840258356202297`*^9, 3.684026046777274*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$997851, \
x\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.6840258356202297`*^9, 3.684026046968606*^9}],

Cell[BoxData["\<\"L**D**tp[L] gave non-trivial blocks, so the output list is: \
{ {diagonal},{subdiagonal},{-subdiagonal} }\"\>"], "Print",
 CellChangeTimes->{3.5166269824912033`*^9, 3.572400611715292*^9, 
  3.6840258358036137`*^9, 3.684026047008065*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"2", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "2"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"-", "2"}]}], "}"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.5166269825956583`*^9, 3.572400611724807*^9, 
  3.684025835810842*^9, 3.684026047015711*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", " ", 
  RowBox[{
   RowBox[{"x", "**", "x", "**", "x", "**", "x"}], ",", " ", 
   RowBox[{"{", "x", "}"}], ",", 
   RowBox[{"AllPermutation", "\[Rule]", "True"}], ",", 
   RowBox[{"DiagonalSelection", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"1", ",", "12"}], "}"}]}]}], " ", "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCDeprecated", "::", "OptionGone"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"Option \
\\\"\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"AllPermutation\\\\\\\"\\\"}]\\)\
\[NoBreak]\\\" has been deprecated and is no longer supported.\"\>"}]], \
"Message", "MSG",
 CellChangeTimes->{3.684025842633638*^9, 3.6840260487704983`*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$1035841, x\\\\\\\
\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.684025842633638*^9, 3.684026048943589*^9}],

Cell[BoxData["\<\"L**D**tp[L] gave non-trivial blocks, so the output list is: \
{ {diagonal},{subdiagonal},{-subdiagonal} }\"\>"], "Print",
 CellChangeTimes->{3.516626982777557*^9, 3.572400611782757*^9, 
  3.684025842848754*^9, 3.684026048966607*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"2", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "2"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"-", "2"}]}], "}"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.5166269839666767`*^9, 3.572400611983241*^9, 
  3.684025842856196*^9, 3.684026048973959*^9}]
}, Open  ]],

Cell["\<\
Conclusions: When we tried using permutations 1 through 2 we got a different \
answer than when we used all the permutations.  But the answers in terms of \
convexity are the same.  x^4 is not matrix convex. \
\>", "Text",
 FontSize->24],

Cell["WARNINGS", "Text",
 FontSize->72,
 FontColor->RGBColor[1, 0, 0]],

Cell["The following example appears to give misinformation.", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(10)",
  FontColor->RGBColor[1, 0, 0]],
 " Giving NCConvexityRegion polys that aren't symmetric."
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", 
  RowBox[{
   RowBox[{"1", "+", 
    RowBox[{"x", "**", "y"}]}], ",", 
   RowBox[{"{", 
    RowBox[{"x", ",", "y"}], "}"}]}], "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCMatrixOfQuadratic", "::", "NotSymmetric"}], "MessageName"], 
  RowBox[{":", " "}], "\<\"Quadratic form is not symmetric.\"\>"}]], "Message",\
 "MSG",
 CellChangeTimes->{
  3.684025849163599*^9, 3.684026052774056*^9, 3.6840261052288857`*^9, {
   3.6840261474346867`*^9, 3.6840261626432457`*^9}, 3.684026912789365*^9}],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellChangeTimes->{
  3.516626984292391*^9, 3.57240061216508*^9, 3.6840258499370823`*^9, 
   3.684026053354601*^9, 3.684026106049961*^9, {3.6840261481928*^9, 
   3.684026162651144*^9}, 3.684026912799038*^9}]
}, Open  ]],

Cell["\<\
1+xy is not matrix convex everywhere.  What happened here?  We gave \
NCConvexityRegion a poly that isn't symmetric.  NCConvexityRegion only works \
with symmetric polys.  If we give it the symmetric version we get:\
\>", "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", 
  RowBox[{
   RowBox[{"1", "+", 
    RowBox[{"x", "**", "y"}], "+", 
    RowBox[{"y", "**", "x"}]}], ",", 
   RowBox[{"{", 
    RowBox[{"x", ",", "y"}], "}"}]}], "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$1334951, \
NCConvexity`Private`h$1334952\\\\\\\"\\\"}]\\)\[NoBreak] was(were) assumed \
symmetric\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.6840269343900337`*^9}],

Cell[BoxData["\<\"L**D**tp[L] gave non-trivial blocks, so the output list is: \
{ {diagonal},{subdiagonal},{-subdiagonal} }\"\>"], "Print",
 CellChangeTimes->{3.516626984359239*^9, 3.57240061219839*^9, 
  3.684026934401552*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", "2", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"-", "2"}], "}"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.516626984362145*^9, 3.572400612199959*^9, 
  3.684026934409196*^9}]
}, Open  ]],

Cell["This is correct.  1+xy+yx is not matrix convex anywhere.", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(11)",
  FontColor->RGBColor[1, 0, 0]],
 " NCConvexityRegion cannot handle commutative variables.  "
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetCommutative", "[", 
   RowBox[{"A", ",", "B", ",", "F", ",", "G"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"NCConvexityRegion", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"A", "+", 
       RowBox[{"B", "*", "x"}]}], ")"}], "**", 
     RowBox[{"inv", "[", 
      RowBox[{"F", "+", 
       RowBox[{"G", "*", "x"}]}], "]"}]}], "+", 
    RowBox[{"tp", "[", " ", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"A", "+", 
        RowBox[{"B", "*", "x"}]}], ")"}], "**", 
      RowBox[{"inv", "[", 
       RowBox[{"F", "+", 
        RowBox[{"G", "*", "x"}]}], "]"}]}], " ", "]"}]}], ",", 
   RowBox[{"{", 
    RowBox[{"x", ",", "y"}], "}"}]}], "]"}]}], "Input",
 FontSize->14],

Cell[BoxData["\<\"L**D**tp[L] gave non-trivial blocks, so the output list is: \
{ {diagonal},{subdiagonal},{-subdiagonal} }\"\>"], "Print",
 CellChangeTimes->{3.516626985075303*^9, 3.572400612479084*^9, 
  3.684026986369651*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{"-", "2"}], " ", "B", " ", "G", " ", 
       RowBox[{"inv", "[", 
        RowBox[{"F", "+", 
         RowBox[{"G", " ", 
          RowBox[{"tp", "[", "x", "]"}]}]}], "]"}]}], ",", "0", ",", "0"}], 
     "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"2", " ", "B", " ", "G", " ", 
       RowBox[{"inv", "[", 
        RowBox[{"F", "+", 
         RowBox[{"G", " ", 
          RowBox[{"tp", "[", "x", "]"}]}]}], "]"}]}], ",", "0", ",", "0"}], 
     "}"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{3.5166269850781813`*^9, 3.572400612480719*^9, 
  3.684026986380623*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", 
  RowBox[{
   RowBox[{"A", " ", 
    RowBox[{"x", "**", "x", "**", "x", "**", "x", "**", "x"}]}], ",", " ", 
   RowBox[{"{", "x", "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.684028388547579*^9, 3.684028394138566*^9}},
 FontSize->14],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"NCSymmetricQ", "::", "SymmetricVariables"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"The variable(s) \
\[NoBreak]\\!\\(\\*RowBox[{\\\"\\\\\\\"NCConvexity`Private`h$1393451, x\\\\\\\
\"\\\"}]\\)\[NoBreak] was(were) assumed symmetric\"\>"}]], "Message", "MSG",
 CellChangeTimes->{
  3.6840269905522547`*^9, {3.68402838959735*^9, 3.684028396478743*^9}}],

Cell[BoxData["\<\"L**D**tp[L] gave non-trivial blocks, so the output list is: \
{ {diagonal},{subdiagonal},{-subdiagonal} }\"\>"], "Print",
 CellChangeTimes->{
  3.5724006125262003`*^9, 3.684026990571336*^9, {3.684028389632834*^9, 
   3.684028396519801*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"2", " ", "A", " ", "x"}], ",", 
      RowBox[{
       RowBox[{"-", "2"}], " ", "A", " ", 
       RowBox[{"inv", "[", "x", "]"}]}], ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", 
      RowBox[{"2", " ", "A"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", 
      RowBox[{
       RowBox[{"-", "2"}], " ", "A"}]}], "}"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{
  3.516626985394373*^9, 3.572400612527623*^9, 3.6840269905787573`*^9, {
   3.6840283896410503`*^9, 3.6840283965282393`*^9}}]
}, Open  ]],

Cell["\<\
In both of the above examples NCConvexityRegion had problems.  In the first \
we get symmetry errors, although the poly is symmetric.  In the second we get \
weird inverses.  So don't feed NCConvexityRegion commutative variables.\
\>", "Text",
 FontSize->24],

Cell[TextData[{
 StyleBox["(12)",
  FontColor->RGBColor[1, 0, 0]],
 " Testing linear functions with NCConvexityRegion.  "
}], "Text",
 FontSize->24],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NCConvexityRegion", "[", 
  RowBox[{
   RowBox[{"1", "+", "x"}], ",", " ", 
   RowBox[{"{", "x", "}"}]}], "]"}]], "Input",
 FontSize->14],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", "0", "}"}], "}"}]], "Output",
 CellChangeTimes->{3.5166269854396753`*^9, 3.572400612548253*^9, 
  3.684027202858448*^9}]
}, Open  ]],

Cell["\<\
A linear function is convex everywhere, but strictly convex nowhere.  This is \
reflected in the output 0.\
\>", "Text",
 FontSize->24]
}, Open  ]]
},
WindowSize->{1034, 748},
WindowMargins->{{1, Automatic}, {Automatic, 0}},
PrintingPageRange->{Automatic, Automatic},
PrintingOptions->{"Magnification"->1,
"PaperOrientation"->"Portrait",
"PaperSize"->{612, 792},
"PostScriptOutputFile":>FrontEnd`FileName[{$RootDirectory, "home", "toal", 
   "SHAHEEN", "Summer02", "Convexity", "NewStuff", "NEWNCCONVEXITYWITHDOC"}, 
  "NCConvexityRegionDemo.nb.ps", CharacterEncoding -> "ISO8859-1"]},
PrivateNotebookOptions->{"VersionedStylesheet"->{"Default.nb"[8.] -> False}},
FrontEndVersion->"10.4 for Mac OS X x86 (32-bit, 64-bit Kernel) (April 11, \
2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 175, 6, 130, "Title"],
Cell[CellGroupData[{
Cell[779, 32, 337, 6, 63, "Input"],
Cell[CellGroupData[{
Cell[1141, 42, 354, 6, 22, "Print"],
Cell[1498, 50, 445, 9, 21, "Print"],
Cell[1946, 61, 582, 12, 22, "Print"]
}, Open  ]]
}, Open  ]],
Cell[2555, 77, 176, 6, 42, "Text"],
Cell[CellGroupData[{
Cell[2756, 87, 172, 5, 29, "Input"],
Cell[2931, 94, 450, 10, 21, "Message"],
Cell[3384, 106, 288, 6, 28, "Output"]
}, Open  ]],
Cell[3687, 115, 160, 4, 73, "Text"],
Cell[3850, 121, 139, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[4014, 130, 183, 5, 29, "Input"],
Cell[4200, 137, 405, 10, 21, "Message"],
Cell[4608, 149, 365, 10, 28, "Output"]
}, Open  ]],
Cell[4988, 162, 187, 4, 73, "Text"],
Cell[5178, 168, 121, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[5324, 177, 248, 8, 29, "Input"],
Cell[5575, 187, 430, 10, 21, "Message"],
Cell[6008, 199, 232, 5, 28, "Output"]
}, Open  ]],
Cell[6255, 207, 172, 4, 73, "Text"],
Cell[6430, 213, 117, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[6572, 222, 194, 5, 29, "Input"],
Cell[6769, 229, 409, 10, 21, "Message"],
Cell[7181, 241, 274, 3, 22, "Print"],
Cell[7458, 246, 429, 12, 28, "Output"]
}, Open  ]],
Cell[7902, 261, 351, 6, 135, "Text"],
Cell[8256, 269, 121, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[8402, 278, 292, 8, 29, "Input"],
Cell[8697, 288, 440, 10, 21, "Message"],
Cell[9140, 300, 274, 3, 22, "Print"],
Cell[9417, 305, 544, 14, 28, "Output"]
}, Open  ]],
Cell[9976, 322, 370, 7, 135, "Text"],
Cell[10349, 331, 114, 2, 55, "Text"],
Cell[10466, 335, 165, 4, 73, "Text"],
Cell[10634, 341, 122, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[10781, 350, 1054, 28, 138, "Input"],
Cell[11838, 380, 372, 9, 28, "Output"],
Cell[12213, 391, 376, 9, 21, "Message"],
Cell[12592, 402, 9249, 189, 61, "Output"],
Cell[21844, 593, 848, 24, 58, "Output"],
Cell[22695, 619, 375, 9, 21, "Message"],
Cell[23073, 630, 982, 28, 58, "Output"]
}, Open  ]],
Cell[24070, 661, 120, 4, 42, "Text"],
Cell[24193, 667, 122, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[24340, 676, 1067, 28, 138, "Input"],
Cell[25410, 706, 643, 15, 28, "Output"],
Cell[26056, 723, 376, 9, 21, "Message"],
Cell[26435, 734, 10269, 207, 61, "Output"],
Cell[36707, 943, 1075, 30, 74, "Output"],
Cell[37785, 975, 375, 9, 21, "Message"],
Cell[38163, 986, 837, 23, 74, "Output"]
}, Open  ]],
Cell[39015, 1012, 191, 5, 73, "Text"],
Cell[39209, 1019, 114, 2, 55, "Text"],
Cell[39326, 1023, 955, 15, 352, "Text"],
Cell[40284, 1040, 112, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[40421, 1049, 619, 18, 66, "Input"],
Cell[41043, 1069, 374, 9, 21, "Message"],
Cell[41420, 1080, 850, 24, 58, "Output"]
}, Open  ]],
Cell[42285, 1107, 102, 3, 42, "Text"],
Cell[CellGroupData[{
Cell[42412, 1114, 320, 8, 29, "Input"],
Cell[42735, 1124, 397, 10, 24, "Message"],
Cell[43135, 1136, 403, 10, 21, "Message"],
Cell[43541, 1148, 334, 9, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[43912, 1162, 346, 9, 29, "Input"],
Cell[44261, 1173, 376, 9, 24, "Message"],
Cell[44640, 1184, 380, 9, 21, "Message"],
Cell[45023, 1195, 314, 9, 28, "Output"]
}, Open  ]],
Cell[45352, 1207, 134, 4, 73, "Text"],
Cell[45489, 1213, 112, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[45626, 1222, 588, 17, 66, "Input"],
Cell[46217, 1241, 349, 8, 21, "Message"],
Cell[46569, 1251, 1053, 30, 74, "Output"]
}, Open  ]],
Cell[47637, 1284, 103, 3, 42, "Text"],
Cell[CellGroupData[{
Cell[47765, 1291, 357, 9, 29, "Input"],
Cell[48125, 1302, 374, 9, 24, "Message"],
Cell[48502, 1313, 380, 9, 21, "Message"],
Cell[48885, 1324, 254, 3, 22, "Print"],
Cell[49142, 1329, 405, 12, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[49584, 1346, 358, 9, 29, "Input"],
Cell[49945, 1357, 374, 9, 24, "Message"],
Cell[50322, 1368, 377, 8, 21, "Message"],
Cell[50702, 1378, 250, 3, 22, "Print"],
Cell[50955, 1383, 405, 12, 28, "Output"]
}, Open  ]],
Cell[51375, 1398, 247, 5, 104, "Text"],
Cell[51625, 1405, 70, 2, 96, "Text"],
Cell[51698, 1409, 84, 1, 42, "Text"],
Cell[51785, 1412, 151, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[51961, 1421, 207, 7, 29, "Input"],
Cell[52171, 1430, 366, 8, 21, "Message"],
Cell[52540, 1440, 253, 5, 28, "Output"]
}, Open  ]],
Cell[52808, 1448, 254, 5, 104, "Text"],
Cell[CellGroupData[{
Cell[53087, 1457, 243, 8, 29, "Input"],
Cell[53333, 1467, 387, 9, 21, "Message"],
Cell[53723, 1478, 227, 3, 22, "Print"],
Cell[53953, 1483, 318, 10, 28, "Output"]
}, Open  ]],
Cell[54286, 1496, 87, 1, 42, "Text"],
Cell[54376, 1499, 154, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[54555, 1508, 754, 25, 48, "Input"],
Cell[55312, 1535, 228, 3, 22, "Print"],
Cell[55543, 1540, 782, 24, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[56362, 1569, 286, 7, 29, "Input"],
Cell[56651, 1578, 405, 9, 21, "Message"],
Cell[57059, 1589, 258, 4, 22, "Print"],
Cell[57320, 1595, 654, 19, 28, "Output"]
}, Open  ]],
Cell[57989, 1617, 268, 5, 104, "Text"],
Cell[58260, 1624, 148, 5, 42, "Text"],
Cell[CellGroupData[{
Cell[58433, 1633, 161, 5, 29, "Input"],
Cell[58597, 1640, 164, 4, 28, "Output"]
}, Open  ]],
Cell[58776, 1647, 145, 4, 73, "Text"]
}, Open  ]]
}
]
*)

